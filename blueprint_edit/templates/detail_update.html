{% extends 'lk_base.html' %}

{% block content %}
<div class="p-4 card mt-5 container text-center col-8">
    <div class="d-flex justify-content-center align-items-center">
        <a href="{{ url_for('bp_edit.all_products') }}" class="me-auto">
            <svg width="25" height="25" viewBox="0 0 220 220" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M109.576 219.151C169.995 219.151 219.149 169.995 219.149 109.575C219.149 49.156 169.995 0 109.576 0C49.157 0 0.00201416 49.156 0.00201416 109.575C0.00201416 169.995 49.157 219.151 109.576 219.151ZM109.576 15C161.724 15 204.149 57.426 204.15 109.575C204.15 161.724 161.725 204.15 109.576 204.151C57.428 204.15 15.003 161.724 15.003 109.574C15.003 57.427 57.428 15 109.576 15Z" fill="black"/>
        <path d="M94.861 156.507C97.79 159.435 102.539 159.434 105.467 156.507C108.397 153.577 108.397 148.829 105.466 145.899L76.646 117.08L160.103 117.072C164.245 117.071 167.602 113.714 167.602 109.57C167.601 105.428 164.244 102.072 160.102 102.072L76.642 102.08L105.469 73.2552C108.398 70.3262 108.398 65.5762 105.469 62.6482C104.004 61.1842 102.085 60.4512 100.165 60.4512C98.246 60.4512 96.327 61.1842 94.862 62.6472L53.233 104.275C51.826 105.681 51.036 107.588 51.036 109.578C51.037 111.568 51.827 113.474 53.234 114.883L94.861 156.507Z" fill="black"/>
    </svg>
        </a>
        <h2 class="text-center me-auto">Редактирование {{ detail['name'] }}</h2>
    </div>
    <div class="container mt-3 d-flex flex-column gap-2">
        <form action="{{ url_for('bp_edit.edit_product') }}" method ="POST" class="d-flex flex-column gap-4 align-items-center">
            <div class="form-group row col-12">
                <label for="input_name" class="col-4 col-form-label text-start">Имя</label>
                <div class="col-8">
                    <input type="text" class="form-control" id="input_name" name="input_name" value="{{ detail['name'] }}"
                        minlength="3" maxlength="45">
                </div>
            </div>
            <div class="form-group row col-12">
                <label for="input_material" class="col-4 col-form-label text-start">Материал</label>
                <div class="col-8">
                    <input type="text" class="form-control" id="input_material" name="input_material" value="{{ detail['material'] }}"
                        minlength="3" maxlength="45">
                </div>
            </div>
            <div class="form-group row col-12">
                <label for="input_weight" class="col-4 col-form-label text-start">Вес</label>
                <div class="col-8">
                    <input type="number" class="form-control" id="input_weight" name="input_weight" value="{{ detail['weight'] }}"
                        min="0" step="0.001">
                </div>
            </div>
            <div class="form-group row col-12">
                <label for="input_price" class="col-4 col-form-label text-start">Цена</label>
                <div class="col-8">
                    <input type="number" class="form-control" id="input_price" name="input_price" value="{{ detail['price'] }}"
                        min="0" step="0.01">
                </div>
            </div>
            <div class="form-group row col-12">
                <label for="input_quantity" class="col-4 col-form-label text-start">Доступное количество</label>
                <div class="col-8">
                    <input type="number" class="form-control" id="input_quantity" name="input_quantity" value="{{ detail['quantity_available'] }}"
                        min="0">
                </div>
            </div>
            <input type="submit" value="Изменить" class="btn btn-primary col-4">
            <input type="hidden" name="id_detail" value="{{ detail['id_detail'] }}">
        </form>
    </div>
</div>
{% if show_toast %}
<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
    <div class="toast show bg-{{ toast_type }} text-white">
        <div class="toast-header bg-{{ toast_type }} text-white">
            <strong class="me-auto">{{ toast_title }}</strong>
            <button type="button" class="btn btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
            {{ toast_message }}
        </div>
    </div>
</div>
{% endif %}
{% endblock %}